{% extends 'base.html' %}
{% block title %}Ansök om konto – Utbildningsintyg{% endblock %}
{% block head %}
    <meta name="description" content="Ansök om konto för att hantera utbildningsintyg digitalt.">
{% endblock %}
{% block content %}
<section class="apply-hero" aria-labelledby="apply-title">
    <div class="apply-hero-content">
        <div class="apply-intro">
            <h1 id="apply-title">Ansök om konto</h1>
            <p>Fyll i uppgifterna nedan så återkommer vi efter att ha granskat din ansökan. Alla fält utom kommentar är obligatoriska. Företagsnamn behövs endast för handledarkonton.</p>
        </div>
        <form method="post" class="apply-form" novalidate>
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
            {% if form_errors %}
                <div class="message error" role="alert">
                    <ul>
                        {% for error in form_errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            <fieldset class="field-group">
                <legend>Vilket konto behöver du?</legend>
                <label class="radio-option">
                    <input type="radio" name="account_type" value="user" required {% if form_data.account_type == 'user' %}checked{% endif %}>
                    <span>Arbetsplatskonto för användare</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="account_type" value="handledare" {% if form_data.account_type == 'handledare' %}checked{% endif %}>
                    <span>Handledarkonto för företagsportal</span>
                </label>
            </fieldset>

            <label for="name">Fullständigt namn</label>
            <input id="name" name="name" type="text" value="{{ form_data.name }}" required autocomplete="name">

            <label for="email">E-postadress</label>
            <input id="email" name="email" type="email" value="{{ form_data.email }}" required autocomplete="email">

            <label for="company_name">Företag <span class="optional">(krävs för handledarkonto)</span></label>
            <input id="company_name" name="company_name" type="text" value="{{ form_data.company_name }}" autocomplete="organization">
            <small class="hint">Om du ansöker som handledare behöver vi företagets namn för att skapa organisationen.</small>

            <label for="orgnr">Organisationsnummer</label>
            <input id="orgnr" name="orgnr" type="text" inputmode="numeric" pattern="[0-9-\s]{6,12}" value="{{ form_data.orgnr }}" required placeholder="Exempel: 556016-0680">
            <small class="hint">Ange organisationsnumret med eller utan bindestreck. Vi normaliserar till tio siffror och kontrollerar kontrollsiffran.</small>

            <label for="comment">Kommentar <span class="optional">(valfritt)</span></label>
            <textarea id="comment" name="comment" rows="4">{{ form_data.comment }}</textarea>

            <button type="submit" class="btn">Skicka ansökan</button>
        </form>
    </div>
</section>

<section class="apply-info" aria-labelledby="pricing-title">
    <h2 id="pricing-title">Vad kostar det?</h2>
    <p class="apply-price">Användarkonto är gratis.</p>
    <p class="apply-price">Företagsportal med handledare kostar 20 kronor per kopplad användare.</p>
</section>

<section class="apply-steps" aria-labelledby="steps-title">
    <h2 id="steps-title">Så går ansökan till</h2>
    <ol class="apply-step-list">
        <li>
            <h3>Skicka in uppgifter</h3>
            <p>Ange företag, kontaktperson och vilken roll som ska få åtkomst.</p>
        </li>
        <li>
            <h3>Verifiering</h3>
            <p>Vi kontrollerar organisationsnumret och bekräftar behörigheter.</p>
        </li>
        <li>
            <h3>Starta upp</h3>
            <p>När ansökan godkänns skapar vi kontot och skickar instruktioner via e-post.</p>
        </li>
    </ol>
</section>
{% endblock %}

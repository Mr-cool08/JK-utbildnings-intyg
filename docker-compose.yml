version: '3.9'
services:
  app:
    build: .
    ports:
      - "80:80"
    env_file:
      - .env
    environment:
      DB_PATH: /data/database.db
      # Uncomment the lines below to enable TLS with certificates stored at
      # /home/client_52_3/certs inside the container.
      # CLOUDFLARE_CERT_PATH: /home/client_52_3/certs/cert.pem
      # CLOUDFLARE_KEY_PATH: /home/client_52_3/certs/key.pem
    volumes:
      - env_data:/config
      - uploads_data:/app/uploads
      - db_data:/data
      - logs_data:/app/logs
      - /home/client_52_3/certs:/home/client_52_3/certs
volumes:
  env_data:
    name: env_data
  uploads_data:
    name: uploads_data
  db_data:
    name: db_data
  logs_data:
    name: logs_data
